// CONSTS
const positions = {
    0: "OUR ALLIANCE AREA", 
    0.5: "THE NEUTRAL ZONE",
    1: "THEIR ALLIANCE AREA"
}

// SECONDS
const moveField = 5
const shootTime = 1/8
const intakeTime = 1/8
const hopperSize = 80

// GLOBALS
let t = 0
let pts = 12
let pos = 0


function game() {
    auton()
}

function auton() {
    move(0.5)
}

function move(goal) {
    const delta = Math.abs(goal - pos) * moveField 
    t += delta 
    pos = goal

    console.log(`Spent ${delta} moving to ${positions[pos]}`)
}

function shoot(n, t_limit) {
    const t_diff = t_limit - t

    const shots = Math.min(n, Math.min(hopper, Math.floor(t_diff/shootTime)))

    if (n * shootTime > t_diff) {
        console.log(`Shooting ${n} fuel at t = ${t} is over the time period! Only shooting ${shots} fuel`)
    } else if (shots < n) {
        console.log(`Shooting ${n} fuel at t = ${t} is more than what the hopper contains! Only shooting ${shots} fuel`)
    } else {
        console.log(`Shooting ${n} fuel at t = ${t}`)
    }
    hopper -= shots
    pts += shots
    t += shootTime * shots
}

function collect(n, t_limit) {
    // FINISH HOPPER SIZE CHECK
    const t_diff = t_limit - t

    const collect = Math.min(n, Math.min(hopperSize-hopper, Math.floor(t_diff/intakeTime)))

    if (n * intakeTime > t_diff) {
        console.log(`Collecting ${n} fuel at t = ${t} is over the time period! Only collecting ${collect} fuel`)

    } else if (collect < n) {
        console.log(`Collecting ${n} fuel at t = ${t} is over the hopper space! Only collecting ${collect} fuel`)
    } else {
        console.log(`Shooting ${n} fuel at t = ${t}`)
    }

    t += intakeTime * collect
    hopper += collect
}

game()
